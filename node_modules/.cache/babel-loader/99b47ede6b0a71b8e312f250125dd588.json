{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Hunani Trading Co\\\\react\\\\quotation\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\Hunani Trading Co\\\\react\\\\quotation\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\Hunani Trading Co\\\\react\\\\quotation\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Hunani Trading Co\\\\react\\\\quotation\\\\src\\\\Views\\\\Login.js\";\n\nimport React, { Fragment, useState, useEffect, useRef } from 'react';\nimport css from '../css/style.css';\nimport axios from 'axios';\nimport { useReactToPrint } from 'react-to-print';\nimport { useHistory, Link } from 'react-router-dom';\n\nvar Login = function Login() {\n  var history = useHistory();\n\n  var _useState = useState({\n    name: '',\n    email: '',\n    password: '',\n    repassword: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      input = _useState2[0],\n      handleInput = _useState2[1];\n\n  var _useState3 = useState({\n    name: '',\n    email: '',\n    password: '',\n    repassword: ''\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      handleError = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      success = _useState6[0],\n      handleSuccess = _useState6[1];\n\n  useEffect(function () {\n    var token = localStorage.getItem('token');\n\n    if (token !== null) {\n      history.push({\n        pathname: '/'\n      });\n    }\n  }, []);\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    axios.post('http://localhost:3010/login', input).then(function (res) {\n      handleError({});\n      console.log(res.data.errors);\n\n      if (res.data.errors) {\n        res.data.errors.map(function (list) {\n          handleError(function (prev) {\n            return _objectSpread({}, prev, _defineProperty({}, list.param, 'Field Required'));\n          });\n        });\n      } else {\n        //    \n        if (res.data.success) {\n          handleInput({\n            name: '',\n            email: '',\n            password: '',\n            repassword: ''\n          });\n          localStorage.setItem('token', res.data.token);\n          setTimeout(function () {\n            history.push({\n              pathname: '/'\n            });\n          }, 600);\n        } else {\n          handleSuccess(res.data);\n        } //    if(res.data=='User Added Succesfully'){\n        //   \n        //    setTimeout(()=>{\n        //     history.push({\n        //         pathname:'/login',\n        //         state:{login:1}\n        //            });\n        // },600)\n        // }\n\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"head\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"meta\", {\n    charset: \"UTF-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"viewport\",\n    content: \"width=device-width, initial-scale=1.0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"meta\", {\n    \"http-equiv\": \"X-UA-Compatible\",\n    content: \"ie=edge\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, \"Login \"), /*#__PURE__*/React.createElement(\"link\", {\n    rel: \"stylesheet\",\n    href: \"fonts/material-icon/css/material-design-iconic-font.min.css\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"link\", {\n    rel: \"stylesheet\",\n    href: \"css/style.css\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"body\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"main\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    class: \"sign-in\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"signin-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"signin-image\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"figure\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"images/signin-image.jpg\",\n    alt: \"sing up image\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Link, {\n    to: \"/signup\",\n    class: \"signup-image-link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }, \"Create an account\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"signin-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    class: \"form-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, \"Sign In\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: 'alert alert-danger' + (success == null ? ' d-none' : ' d-block'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, \" \", success), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: function onSubmit(e) {\n      return handleSubmit(e);\n    },\n    class: \"register-form\",\n    id: \"register-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: 'red'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }, error.email, \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 79\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"your_name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"zmdi zmdi-account material-icons-name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 56\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    id: \"your_name\",\n    value: input.email,\n    onChange: function onChange(e) {\n      return handleInput(_objectSpread({}, input, {\n        email: e.target.value\n      }));\n    },\n    placeholder: \"Your Email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: 'red'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 29\n    }\n  }, error.password, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"your_pass\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"zmdi zmdi-lock\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 56\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: input.password,\n    onChange: function onChange(e) {\n      return handleInput(_objectSpread({}, input, {\n        password: e.target.value\n      }));\n    },\n    id: \"your_pass\",\n    placeholder: \"Password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    name: \"remember-me\",\n    id: \"remember-me\",\n    class: \"agree-term\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"remember-me\",\n    class: \"label-agree-term\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 83\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 89\n    }\n  })), \"Remember me\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group form-button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    name: \"signin\",\n    id: \"signin\",\n    class: \"form-submit\",\n    value: \"Log in\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 33\n    }\n  }))))))))));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Hunani Trading Co/react/quotation/src/Views/Login.js"],"names":["React","Fragment","useState","useEffect","useRef","css","axios","useReactToPrint","useHistory","Link","Login","history","name","email","password","repassword","input","handleInput","error","handleError","success","handleSuccess","token","localStorage","getItem","push","pathname","handleSubmit","e","preventDefault","post","then","res","console","log","data","errors","map","list","prev","param","setItem","setTimeout","color","target","value"],"mappings":"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","sourcesContent":["import React, { Fragment ,useState, useEffect,useRef} from 'react';\r\nimport css from '../css/style.css';\r\nimport axios from 'axios';\r\nimport { useReactToPrint } from 'react-to-print';\r\nimport { useHistory, Link } from 'react-router-dom';\r\n \r\nconst Login=()=>{\r\n    const history=useHistory();\r\n    let [input,handleInput]=useState({name:'',email:'',password:'',repassword:''});\r\n    let [error,handleError]=useState({name:'',email:'',password:'',repassword:''});\r\n    let [success,handleSuccess]=useState(null);\r\nuseEffect(()=>{\r\nlet token=localStorage.getItem('token');\r\nif(token!==null){\r\n    history.push({pathname:'/'})\r\n}\r\n},[])\r\n\r\n\r\n    const handleSubmit=(e)=>{\r\n        e.preventDefault();\r\naxios.post('http://localhost:3010/login',input).then((res)=>{\r\n    handleError({});\r\n    console.log(res.data.errors);\r\n    if(res.data.errors){\r\n    res.data.errors.map(list=>{\r\n           handleError(prev=>({...prev,[list.param]:'Field Required'})) \r\n        });\r\n    }\r\n    else{\r\n//    \r\n   if(res.data.success){\r\n  \r\n    handleInput({name:'',email:'',password:'',repassword:''});\r\n    localStorage.setItem('token', res.data.token);\r\n    setTimeout(()=>{\r\n    history.push({pathname:'/'});\r\n    },600);\r\n   }\r\n   else{\r\n   \r\n    handleSuccess(res.data);\r\n   }\r\n//    if(res.data=='User Added Succesfully'){\r\n//   \r\n//    setTimeout(()=>{\r\n//     history.push({\r\n//         pathname:'/login',\r\n//         state:{login:1}\r\n//            });\r\n// },600)\r\n\r\n// }\r\n\r\n    }\r\n})\r\n    }\r\nreturn(\r\n    <React.Fragment>\r\n<head>\r\n    <meta charset=\"UTF-8\"/>\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"/>\r\n    <title>Login </title>\r\n \r\n    <link rel=\"stylesheet\" href=\"fonts/material-icon/css/material-design-iconic-font.min.css\"/>\r\n \r\n    <link rel=\"stylesheet\" href=\"css/style.css\"/>\r\n</head>\r\n<body>\r\n\r\n<div class=\"main\">\r\n\r\n<section class=\"sign-in\">\r\n            <div class=\"container\">\r\n                <div class=\"signin-content\">\r\n                    <div class=\"signin-image\">\r\n                        <figure><img src=\"images/signin-image.jpg\" alt=\"sing up image\"/></figure>\r\n                        <Link to=\"/signup\" class=\"signup-image-link\">Create an account</Link>\r\n                    </div>\r\n\r\n                    <div class=\"signin-form\">\r\n                        <h2 class=\"form-title\">Sign In</h2>\r\n                        <div class={'alert alert-danger'+(success==null?' d-none':' d-block')}> {success}</div>\r\n                <form onSubmit={(e)=>handleSubmit(e)} class=\"register-form\" id=\"register-form\">\r\n                            <span style={{color:'red'}}>{error.email} </span> <div class=\"form-group\">\r\n                                <label for=\"your_name\"><i class=\"zmdi zmdi-account material-icons-name\"></i></label>\r\n                                <input type=\"email\" name=\"email\" id=\"your_name\" value={input.email} onChange={(e)=>handleInput({...input,email:e.target.value})}  placeholder=\"Your Email\"/>\r\n                            </div>\r\n                            <span style={{color:'red'}}>{error.password} </span>\r\n                            <div class=\"form-group\">\r\n                                <label for=\"your_pass\"><i class=\"zmdi zmdi-lock\"></i></label>\r\n                                <input type=\"password\" name=\"password\" value={input.password} onChange={(e)=>handleInput({...input,password:e.target.value})}  id=\"your_pass\" placeholder=\"Password\"/>\r\n                            </div>\r\n                            <div class=\"form-group\">\r\n                                <input type=\"checkbox\" name=\"remember-me\" id=\"remember-me\" class=\"agree-term\" />\r\n                                <label for=\"remember-me\" class=\"label-agree-term\"><span><span></span></span>Remember me</label>\r\n                            </div>\r\n                            <div class=\"form-group form-button\">\r\n                                <input type=\"submit\" name=\"signin\" id=\"signin\" class=\"form-submit\" value=\"Log in\"/>\r\n                            </div>\r\n                        </form>\r\n                  \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n</div>\r\n</body>\r\n    </React.Fragment>\r\n    )\r\n    }\r\n\r\n     export default Login"]},"metadata":{},"sourceType":"module"}